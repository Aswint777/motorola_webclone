(window.webpackJsonpvtex_react_vtexid_4_53_0=window.webpackJsonpvtex_react_vtexid_4_53_0||[]).push([[2,21,22,23,24,25,26,27,28,29],{11:function(e,t,n){"use strict";var r=n(0),a=n.n(r).a.createContext({state:{},handlers:{}});t.a=a},13:function(e,t,n){"use strict";var r=n(3),a=n.n(r),u=n(5),o=n(4),c=n(0),i=n(8),s=n(6);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onSuccess,l=void 0===r?i.a:r,d=n.onFailure,f=void 0===d?i.a:d,b=n.onFinish,v=void 0===b?i.a:b,p=n.autorun,h=void 0!==p&&p,O=Object(c.useState)(null),j=Object(o.a)(O,2),g=j[0],m=j[1],w=Object(c.useState)(null),P=Object(o.a)(w,2),y=P[0],C=P[1],S=Object(c.useState)(h),k=Object(o.a)(S,2),E=k[0],A=k[1],R=Object(c.useCallback)(e,t),D=Object(c.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(){var t,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(null),A(!0),e.prev=2,e.next=5,R.apply(void 0,n);case 5:return t=e.sent,m(t),C(null),l(t),e.abrupt("return",t);case 12:return e.prev=12,e.t0=e.catch(2),C(e.t0),m(null),f(Object(s.a)(e.t0)),e.abrupt("return",e.t0);case 18:return e.prev=18,A(!1),v(),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[2,12,18,22]])})));return function(){return e.apply(this,arguments)}}(),[R,f,v,l]);return Object(c.useEffect)((function(){h&&D()}),[h,D]),[D,{value:g,error:y,loading:E}]}},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(4),a=/_vua=([^;\s]*?);/,u=function(e){var t;window&&window.document&&window.location&&(window.document.cookie="".concat("_vua","=").concat((t=e,btoa(JSON.stringify(t))),"; max-age=").concat(31536e3,"; path=").concat(window.location.pathname,";"))},o=function(){if(!window||!window.document)return[];var e,t=window.document.cookie.match(a);if(t){var n=Object(r.a)(t,2)[1];return e=n,JSON.parse(atob(e))}return[]}},54:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(1),o=n(11);t.default=function(e){var t=e.children;return a.a.createElement(o.a.Consumer,null,(function(e){var n=e.state.currentPassword,r=e.handlers.handleCurrentPasswordChange;return t({value:n,setValue:r,validation:u.d})}))}},55:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(1),o=n(11);t.default=function(e){var t=e.children;return a.a.createElement(o.a.Consumer,null,(function(e){var n=e.state.email,r=e.handlers.handleEmailChange;return t({value:n,setValue:r,validation:u.d})}))}},56:function(e,t,n){"use strict";n.r(t);var r=n(24),a=n(0),u=n.n(a),o=n(11);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.children;return u.a.createElement(o.a.Consumer,null,(function(e){var n,r=e.state.identityProviders;return t({value:i(i({},r),{},{googleOAuth:(n=r,n&&n.oAuthProviders&&n.oAuthProviders.length>0&&n.oAuthProviders.some((function(e){return"Google"===e.providerName})))})})}))}},57:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(1),o=n(11);t.default=function(e){var t=e.children;return a.a.createElement(o.a.Consumer,null,(function(e){var n=e.state,r=e.handlers;return t(n,r,u.d)}))}},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(1),o=n(11);t.default=function(e){var t=e.children;return a.a.createElement(o.a.Consumer,null,(function(e){var n=e.state.password,r=e.handlers.handlePasswordChange;return t({value:n,setValue:r,validation:u.d})}))}},59:function(e,t,n){"use strict";n.r(t);var r=n(24),a=n(0),u=n.n(a),o=n(1),c=n(11);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.children;return u.a.createElement(c.a.Consumer,null,(function(e){var n=e.state.phoneNumber,r=e.handlers.handlePhoneNumberChange;return t({value:n,setValue:r,validation:s(s({},o.d),{},{validatePhone:function(){return!0}})})}))}},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a={NetworkError:r.c,BlockedUser:r.a,WrongCredentials:r.h,InvalidMFAToken:r.h,InvalidRecaptcha:r.b,OAuthError:r.d,ThrottledError:r.f,PasswordAlreadyUsed:r.e},u=n(10);function o(e){var t=e&&e.response&&"Seu login estÃ¡ bloqueado temporariamente."===e.response.data,n=e&&e.code;n=(n=(n=(n=n||t&&"BlockedUser")||e&&e.authStatus)||e&&e.response&&e.response.data&&e.response.data.authStatus)||(e&&e.message||"").replace(/\s+/g,"");var r=e&&e.details;if(n){var o=a[n];return o?new o(r):new u.a(r)}return new u.a(r)}},60:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(1),o=n(11);t.default=function(e){var t=e.children;return a.a.createElement(o.a.Consumer,null,(function(e){var n=e.state.recaptcha,r=e.handlers.handleRecaptchaChange;return t({value:n,setValue:r,validation:u.d})}))}},61:function(e,t,n){"use strict";n.r(t);var r=n(28),a=n(16),u=n(23),o=n(17),c=n(18),i=n(9),s=n(0),l=n.n(s),d=n(1),f=n(11);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e){Object(o.a)(n,e);var t=b(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){return this.props.handleTokenChange("")}},{key:"render",value:function(){var e=this.props;return(0,e.children)({value:e.token,setValue:e.handleTokenChange,validation:d.d})}}]),n}(s.Component);t.default=function(e){return l.a.createElement(f.a.Consumer,null,(function(t){var n=t.state.token,a=t.handlers.handleTokenChange;return l.a.createElement(v,Object(r.a)({},e,{token:n,handleTokenChange:a}))}))}},62:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(11),o=n(1);t.default=function(e){var t=e.children;return a.a.createElement(u.a.Consumer,null,(function(e){var n=e.state.userAccounts,r=e.handlers.handleUserAccountsChange;return t({value:(n||[]).filter((function(e){return o.d.validateEmail(e)})),setValue:r,validation:o.d})}))}},64:function(e,t,n){"use strict";n.r(t);var r=n(24),a=n(4),u=n(0),o=n.n(u),c=n(15),i=n(11),s=n(1),l=n(10),d=n(54),f=n(55),b=n(56),v=n(57),p=n(58),h=n(59),O=n(60),j=n(61),g=n(62),m=function(e){var t=Object(u.useState)(e),n=Object(a.a)(t,2),r=n[0],o=n[1],c=Object(u.useRef)(null),i=Object(u.useState)(0),s=Object(a.a)(i,2),l=s[0],d=s[1],f=Object(u.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(e),c.current=t,d((function(e){return e+1}))}),[o,c,d]);return Object(u.useEffect)((function(){if(c.current){var e=c.current;c.current=null,e(r)}}),[l,c,r]),[r,f]},w=n(13),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scope,n=void 0===t?"STORE":t,r=e.onSuccess,u=void 0===r?s.b:r,o=e.onFailure,i=void 0===o?s.b:o,l=e.autorun,d=void 0!==l&&l,f=e.parentAppId,b=void 0===f?null:f,v=Object(c.useRuntime)(),p=v.account,h=Object(w.a)((function(){return s.c.getInitialData({accountName:p,scopeName:n,parentAppId:b}).then((function(e){var t=e.identityProviders;return{identityProviders:{oAuthProviders:t.oAuthProviders,samlProviders:t.samlProviders,password:t.passwordAuthentication,accessKey:t.accessKeyAuthentication,corporateProviders:t.corporateProviders},reauthenticationResult:e.reauthenticationResult,fingerprint:e.fingerprint}}))}),[p,b,n],{onSuccess:u,onFailure:i,autorun:d}),O=Object(a.a)(h,2),j=O[1],g=j.value,m=j.error,P=j.loading;return{value:g||{identityProviders:null,reauthenticationResult:{isUserAuthenticated:!1,userId:null}},error:m,loading:P}},y=n(30);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=s.a.SessionDuration,E=null,A=function(e){var t=e.scope,n=e.returnUrl,r=e.email,d=e.parentAppId,f=e.children,b=e.skip,v=Object(u.useMemo)((function(){return Object(y.a)()}),[]),p=m(s.d.validateEmail(r)?r:null),h=Object(a.a)(p,2),O=h[0],j=h[1],g=Object(u.useState)(null),w=Object(a.a)(g,2),C=w[0],A=w[1],R=m(null),D=Object(a.a)(R,2),I=D[0],N=D[1],T=Object(u.useState)(null),U=Object(a.a)(T,2),_=U[0],x=U[1],V=Object(u.useState)(null),F=Object(a.a)(V,2),M=F[0],J=F[1],G=Object(u.useState)(!1),L=Object(a.a)(G,2),B=L[0],K=L[1],W=Object(u.useState)(null),q=Object(a.a)(W,2),z=q[0],H=q[1],Q=Object(u.useState)(!1),X=Object(a.a)(Q,1)[0],Y=m(null),Z=Object(a.a)(Y,2),$=Z[0],ee=Z[1],te=Object(u.useState)(v),ne=Object(a.a)(te,2),re=ne[0],ae=ne[1],ue=m({loading:!1}),oe=Object(a.a)(ue,2),ce=oe[0],ie=oe[1],se=Object(u.useState)(!1),le=Object(a.a)(se,2),de=le[0],fe=le[1],be=Object(c.useRuntime)(),ve=be.account,pe=be.culture.locale,he=Object(u.useCallback)((function(e){J(e),K(e===C)}),[J,K,C]),Oe=Object(u.useCallback)((function(e){(""===e||s.d.hasOnlyNumbers(e))&&H(e.substring(0,6))}),[H]),je=Object(u.useCallback)((function(e){Object(y.b)(e),ae(e)}),[ae]),ge=Object(u.useCallback)((function(){return ie((function(e){return S(S({},e),{},{loading:!e.loading})}))}),[ie]),me=Object(u.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ie((function(t){return S(S({},t),{},{loading:e})}),t)}),[ie]),we=Object(u.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ee(e,t),ie((function(e){return S(S({},e),{},{loading:!1})}))}),[ee,ie]),Pe=P({autorun:!b,scope:t,parentAppId:d}),ye=Pe.loading,Ce=Pe.error,Se=Pe.value,ke=Se.identityProviders,Ee=Se.reauthenticationResult,Ae=Ee.isUserAuthenticated,Re=Ee.userId,De=Se.fingerprint,Ie=Object(u.useCallback)((function(e){return clearTimeout(E),E=setTimeout((function(){fe(!0)}),k),s.c.withSession({accountName:ve,returnUrl:n,scope:t,user:O,fingerprint:De,parentAppId:d})(e)}),[ve,O,De,d,n,t]);return o.a.createElement(i.a.Provider,{value:{loading:ye,error:Ce,parentAppId:d,state:{scope:t,returnUrl:n,email:O,password:C,recaptcha:I,currentPassword:_,confirmPass:M,passwordsMatch:B,token:z,rememberMe:X,phoneNumber:$,userAccounts:re,meta:ce,isSessionExpired:de,identityProviders:ke,fingerprint:De,account:ve,locale:pe},handlers:{handleEmailChange:j,handlePasswordChange:A,handleCurrentPasswordChange:x,handleRecaptchaChange:N,handleConfirmPassChange:he,handleTokenChange:Oe,handlePhoneNumberChange:ee,handleRememberMeChange:void 0,handleUserAccountsChange:je,toggleGlobalLoading:ge,setGlobalLoading:me,setMfaPhone:we,DEPRECATED_withSession:Ie,setIsSessionExpired:fe}}},"function"==typeof f?f({loading:ye,error:ke||ye?Ce:new l.a,isSessionExpired:de,identityProviders:ke,isUserAuthenticated:Ae,userId:Re}):f)};A.CurrentPassword=d.default,A.Email=f.default,A.IdentityProviders=b.default,A.Login=v.default,A.Password=p.default,A.PhoneNumber=h.default,A.Recaptcha=O.default,A.Token=j.default,A.UserAccounts=g.default,A.defaultProps={scope:"STORE",onFailure:s.b};t.default=A}}]);